"use client"

import React, { useState, useEffect } from 'react';
import { useSearchParams, useParams } from 'next/navigation';
import Image from 'next/image';

// Unified Data Schema
const mediaData = [
  // Events
  {
    id: "grace",
    category: "Grace",
    title: "Grace Programme Gallery",
    description: "Extending Care to the Less Privileged through charitable support.",
    images: ["/assets/images/ca1.png", "/assets/images/ca3.png"],
    audioUrl: "Grace 2023 Sermon",
    videoUrl: "Grace 2023 Highlights"
  },
  {
    id: "queen-esther",
    category: "Queen Esther",
    title: "Queen Esther Gallery",
    description: "Celebrating Biblical Womanhood and empowering women.",
    images: ["/assets/images/book.png"],
    audioUrl: "Queen Esther 2024 Message",
    videoUrl: "Queen Esther 2024 Crowning"
  },
  {
    id: "apokalupsis",
    category: "Apokalupsis",
    title: "Apokalupsis Gallery",
    description: "Spreading God's Grace through television ministry.",
    images: ["/assets/images/ca3.png"],
    audioUrl: "Apokalupsis Audio Message",
    videoUrl: "/assets/videos/appokalupsis.mp4"
  },
  {
    id: "karis-award",
    category: "Karis Award",
    title: "Karis Award Gallery",
    description: "Honoring Unsung Heroes in the Nigerian society.",
    images: ["/assets/images/Rectangle 4.png"],
    audioUrl: "Karis Award Speech",
    videoUrl: "Karis Award Presentation"
  },
  // Departments
  {
    id: "children",
    category: "Children's Department",
    title: "Children's Department Gallery",
    description: "Raising Godly Children in the way of the Lord.",
    images: ["/assets/images/children-church-head.jpg"],
    audioUrl: "Children's Day Special",
    videoUrl: "Children's Presentation"
  },
  {
    id: "benevolence",
    category: "Benevolence Department",
    title: "Benevolence Department Gallery",
    description: "Helping the Needy and supporting the welfare of members.",
    images: ["/assets/images/benevolence-head.jpg"],
    audioUrl: "Benevolence Sunday",
    videoUrl: "Benevolence Outreach"
  },
  {
    id: "evangelism",
    category: "Evangelism Department",
    title: "Evangelism Department Gallery",
    description: "Spreading the Gospel to the ends of the earth.",
    images: ["/assets/images/dept-head-evangelism.jpg"],
    audioUrl: "Evangelism Training",
    videoUrl: "Street Evangelism Highlights"
  },
  {
    id: "holy-police",
    category: "Holy Police",
    title: "Holy Police Gallery",
    description: "Maintaining order and security in the house of God.",
    images: ["/assets/images/holy-police-head.jpg"],
    audioUrl: "Security Briefing",
    videoUrl: "Parade Highlights"
  },
  {
    id: "technical",
    category: "Technical Crew",
    title: "Technical Crew Gallery",
    description: "Ensuring excellence in audio-visual production.",
    images: ["/assets/images/technical-crew-head.jpg"],
    audioUrl: "Technical Workshop",
    videoUrl: "Behind the Scenes"
  },
  {
    id: "works",
    category: "Works Department",
    title: "Works Department Gallery",
    description: "Building and maintaining the physical structure.",
    images: ["/assets/images/works-head.jpg"],
    audioUrl: "Maintenance Report",
    videoUrl: "Construction Update"
  }
];

function EventPage(props) {
  const params = useParams();
  const searchParams = useSearchParams();
  const eventSlug = params?.event; 
  const typeParam = searchParams.get('type'); // e.g. ?type=video

  // State
  const [selectedCategory, setSelectedCategory] = useState(eventSlug || 'grace');
  const [activeTab, setActiveTab] = useState('gallery');
  const [filteredData, setFilteredData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const [currentPage, setCurrentPage] = useState(1);
  const itemsPerPage = 8;

  // Handle Tab from URL
  useEffect(() => {
    if (typeParam && ['gallery', 'audio', 'video'].includes(typeParam)) {
      setActiveTab(typeParam);
    }
  }, [typeParam]);

  // Handle Data Fetching/Filtering with Loader
  useEffect(() => {
    setIsLoading(true);
    setCurrentPage(1);
    // Simulate network delay
    const timer = setTimeout(() => {
      const data = mediaData.find(item => item.id === selectedCategory) || mediaData[0];
      setFilteredData(data);
      setIsLoading(false);
    }, 800); 

    return () => clearTimeout(timer);
  }, [selectedCategory]);

  const handleCategoryChange = (e) => {
    setSelectedCategory(e.target.value);
  };

  // Custom Loader Component
  if (isLoading) {
    return (
      <div className="fixed inset-0 z-50 flex flex-col items-center justify-center bg-white">
        <div className="animate-pulse flex flex-col items-center">
           <Image 
             src="/assets/images/hog-logo.png" 
             alt="Loading..." 
             width={120} 
             height={120} 
             className="object-contain" 
           />
           <p className="mt-4 text-gray-500 font-bold text-lg tracking-widest">LOADING...</p>
        </div>
      </div>
    );
  }

  if (!filteredData) return <div className="pt-24 text-center">Data not found</div>;

  // Pagination Logic for Gallery
  const indexOfLastImage = currentPage * itemsPerPage;
  const indexOfFirstImage = indexOfLastImage - itemsPerPage;
  const currentImages = filteredData.images ? filteredData.images.slice(indexOfFirstImage, indexOfLastImage) : [];

  return (
    <div className="container mx-auto p-4 mt-40 min-h-screen">
      {/* Tabs Navigation */}
      <div className="flex gap-2 mb-4 overflow-x-auto justify-center md:justify-start">
        {['gallery', 'audio', 'video'].map((tab) => (
          <button 
            key={tab}
            className={`py-2 px-8 font-bold text-lg rounded-full transition-all duration-300 capitalize whitespace-nowrap ${
              activeTab === tab 
                ? 'bg-warning text-white shadow-md transform scale-105' 
                : 'bg-gray-100 text-gray-500 hover:bg-gray-200'
            }`}
            onClick={() => setActiveTab(tab)}
          >
            {tab}
          </button>
        ))}
      </div>

      {/* Header & Filter */}
      <div className="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4 border-b pb-6">
        <div>
          <h1 className="text-warning text-3xl font-bold uppercase">{filteredData.title}</h1>
          <h2 className="text-black text-lg mt-2 opacity-80">{filteredData.description}</h2>
        </div>
        
        <div className="w-full md:w-auto">
          <label className="block text-sm font-bold mb-2 text-gray-600">Select Category:</label>
          <select 
            className="border-2 border-gray-200 p-2 rounded w-full md:w-64 focus:border-warning outline-none transition-colors" 
            value={selectedCategory} 
            onChange={handleCategoryChange}
          >
            {mediaData.map(item => (
              <option key={item.id} value={item.id}>{item.category}</option>
            ))}
          </select>
        </div>
      </div>

      {/* Content Area */}
      <div className="min-h-[400px] animate-fadeIn">
        
        {/* Gallery Tab */}
        {activeTab === 'gallery' && (
          <div>
            <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
              {currentImages.length > 0 ? (
                currentImages.map((img, index) => (
                <div key={index} className="group relative h-64 cursor-pointer overflow-hidden rounded-xl shadow-md hover:shadow-2xl transition-all duration-300">
                  <Image 
                    src={img} 
                    alt={`${filteredData.title} ${indexOfFirstImage + index}`} 
                    fill 
                    className="object-cover transition-transform duration-500 group-hover:scale-110" 
                  />
                  <div className="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300"></div>
                </div>
              ))
            ) : (
              <EmptyState type="Images" />
            )}
            </div>
            {filteredData.images && filteredData.images.length > itemsPerPage && (
              <Pagination 
                itemsPerPage={itemsPerPage} 
                totalItems={filteredData.images.length} 
                paginate={setCurrentPage} 
                currentPage={currentPage} 
              />
            )}
          </div>
        )}

        {/* Audio Tab */}
        {activeTab === 'audio' && (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {filteredData.audioUrl ? (
               <MediaCard type="audio" title={filteredData.audioUrl} />
            ) : (
              <EmptyState type="Audio" />
            )}
          </div>
        )}

        {/* Video Tab */}
        {activeTab === 'video' && (
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {filteredData.videoUrl ? (
               <MediaCard type="video" title={filteredData.title} src={filteredData.videoUrl} />
            ) : (
              <EmptyState type="Videos" />
            )}
          </div>
        )}
      </div>
    </div>
  );
}

// Universal Media Card Component for Symmetry
function MediaCard({ type, title, src }) {
  const isVideoFile = type === 'video' && typeof src === 'string' && (src.includes('/') || src.endsWith('.mp4'));

  return (
    <div className="bg-white rounded-xl overflow-hidden shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 flex flex-col h-full">
      <div className={`relative ${type === 'video' ? 'aspect-video' : 'h-32'} bg-gray-900 flex items-center justify-center`}>
        {isVideoFile ? (
          <video controls className="w-full h-full object-cover">
            <source src={src} type="video/mp4" />
            Your browser does not support the video tag.
          </video>
        ) : (
          <div className="flex flex-col items-center justify-center text-white">
            {type === 'audio' ? (
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-12 h-12 mb-2 opacity-80">
                <path strokeLinecap="round" strokeLinejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
              </svg>
            ) : (
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-12 h-12 mb-2 opacity-80">
                <path strokeLinecap="round" strokeLinejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z" />
              </svg>
            )}
          </div>
        )}
      </div>
      <div className="p-5 flex-grow flex flex-col justify-between">
        <h3 className="font-bold text-gray-800 text-lg mb-2 line-clamp-2">{title.replace(/\/|mp4|assets|videos/g, '')}</h3>
        <button className="w-full mt-4 py-2 bg-gray-50 text-gray-600 hover:bg-warning hover:text-white rounded-lg transition-colors font-medium text-sm uppercase tracking-wide">
          {type === 'audio' ? 'Listen Now' : 'Watch Now'}
        </button>
      </div>
    </div>
  );
}

// Empty State Component
function EmptyState({ type }) {
  return (
    <div className="col-span-full flex flex-col items-center justify-center py-12 text-gray-400 bg-gray-50 rounded-xl border-2 border-dashed border-gray-200">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-16 h-16 mb-4">
        <path strokeLinecap="round" strokeLinejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
      </svg>
      <p className="text-lg font-medium">No {type} found for this category.</p>
    </div>
  );
}

// Pagination Component
function Pagination({ itemsPerPage, totalItems, paginate, currentPage }) {
  const pageNumbers = [];

  for (let i = 1; i <= Math.ceil(totalItems / itemsPerPage); i++) {
    pageNumbers.push(i);
  }

  return (
    <div className="flex justify-center mt-8 gap-2">
      <button
        onClick={() => paginate(currentPage - 1)}
        disabled={currentPage === 1}
        className="px-4 py-2 border rounded disabled:opacity-50 hover:bg-gray-100 transition-colors"
      >
        Prev
      </button>
      {pageNumbers.map(number => (
        <button
          key={number}
          onClick={() => paginate(number)}
          className={`px-4 py-2 border rounded transition-colors ${currentPage === number ? 'bg-warning text-white border-warning' : 'hover:bg-gray-100'}`}
        >
          {number}
        </button>
      ))}
      <button
        onClick={() => paginate(currentPage + 1)}
        disabled={currentPage === pageNumbers.length}
        className="px-4 py-2 border rounded disabled:opacity-50 hover:bg-gray-100 transition-colors"
      >
        Next
      </button>
    </div>
  );
}

export default EventPage;
// Notes: the whole components such as, filter component , gallery component, pagination component, modal component can be created in the components folder and imported here for use. The logic for filtering, pagination, and modal handling can be managed using React state and hooks.
// the data structure for the events can be an array of objects where each object represents an event with properties such as title, description, date, images, type, category, month, year ,Coordinator Image (which will be beside the page text ), Cordinator name (the cordinator name can be dynamic such that if not provided will be the "title of event "+ "year" + "coordinator").
// the filter will dynamic that on change of filter the gallery ,text, title ,Coordinator Image  and  images will change based on the filter selected.
// Example data structure:
  //  const eventData = {
  //       Grace: [{ 
  //         eventType: "Grace",
  //         title: "GRACE Programme",
  //         slogan: "Extending Care to the Less Privileged",
  //         description: "Initiated in 1990, the GRACE Programme supports charities like Sunshine Foundation and Pacelli School for the Blind, providing aid to the less privileged across Nigeria.",
  //         cordinator: "Rev. Chris Okotie",
          
  //         cordinatorImage: "images/events/pastor.jpg",
          
  //         date: "01,02"(use good date format),
  //         images: ["images/events/ca1.png"]
  //       }],
  // using the above data structure the filter will filter through the eventData based on the eventType and month and year if yearly
// below are some image paths that might be useful for the implementation , as dummy images or for actual use in the gallery .
//  C:\xampp\htdocs\Church-website-main\images\book.png
// C:\xampp\htdocs\Church-website-main\images\ca1.png
// C:\xampp\htdocs\Church-website-main\images\ca3.png
// C:\xampp\htdocs\Church-website-main\images\church-background.png
// C:\xampp\htdocs\Church-website-main\images\footer-hh-logo.png
// C:\xampp\htdocs\Church-website-main\images\hog-logo.png
// C:\xampp\htdocs\Church-website-main\images\pastor.jpg
// C:\xampp\htdocs\Church-website-main\images\Rectangle 4.png
// while this imges below are for the cordintors
// use them to create the data Array of objects for the events
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\benevolence-head.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\children-church-head.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\dept-head-evangelism.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\holy-police-head.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\pastoral-care-head.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\technical-crew-head.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\villa-head.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\works-head.jpg
// C:\Users\user\Desktop\final versions\house-of-god-church\public\assets\images\singles-head.jpg
// use these images above for the cordinators of the events
// you can generate nigerin name like this  "John Okafor", "Maryam Abubakar", "Chinedu Eze", "Aisha Bello", "Emeka Nwosu", "Fatima Yusuf", "Uchechukwu Obi", "Zainab Sani", "Chuka Okeke", "Halima Mohammed"
// below is the list of event types to be used in the data structure and for filtering
//   const eventData = {
      //   Grace: [{ 
      //     eventType: "Grace",
      //     title: "GRACE Programme",
      //     slogan: "Extending Care to the Less Privileged",
      //     description: "Initiated in 1990, the GRACE Programme supports charities like Sunshine Foundation and Pacelli School for the Blind, providing aid to the less privileged across Nigeria.",
      //     cordinator: "Rev. Chris Okotie",
          
      //     cordinatorImage: "images/events/pastor.jpg",
          
      //     date: "01,02",
      //     images: ["images/events/ca1.png"]
      //   }],
      //   Apokalupsis: [{
      //     type: "event",
      //     eventType: "Apokalupsis",
      //     title: "Apokalupsis",
      //     slogan: "Spreading God's Grace",
      //     description: "Launched in 1999, Apokalupsis is a television ministry broadcasting the churchâ€™s spiritual mission across Nigeria and beyond.",
      //     cordinator: "Rev. Chris Okotie",
      //     cordinatorTitle: "Pastor",
      //     cordinatorImage: "images/events/pastor.jpg",
      //     eventCategory: "Media",
      //     date: "01,01",
      //     images: ["images/events/ca3.png"]
      //   }],
      //   KarisAward: [{
      //     type: "event",
      //     eventType: "Karis Award",
      //     title: "Karis Award",
      //     slogan: "Honoring Unsung Heroes",
      //     description: "Started in 1996, the Karis Award recognizes and supports unrecognized Nigerian contributors for their impactful work in society.",
      //     cordinator: "Rev. Chris Okotie",
      //     cordinatorTitle: "Pastor",
      //     cordinatorImage: "images/events/pastor.jpg",
      //     eventCategory: "Award",
      //     date: "01,01",
      //     images: ["images/events/Rectangle 4.png"]
      //   }],
      //   QueenEsther: [{
      //     type: "event",
      //     eventType: "Queen Esther",
      //     title: "Queen Esther",
      //     slogan: "Celebrating Biblical Womanhood",
      //     description: "A womenâ€™s pageant initiated in 2006 to promote biblical values and empower women through faith and grace.",
      //     cordinator: "Rev. Chris Okotie",
      //     cordinatorTitle: "Pastor",
      //     cordinatorImage: "images/events/pastor.jpg",
      //     eventCategory: "Conference",
      //     date: "25,03",
      //     images: ["images/events/book.png"]
      //   }],
      //   HouseholdBirthday: [{
      //     type: "event",
      //     eventType: "Household Birthday",
      //     title: "Household Birthday Celebration",
      //     slogan: "Celebrating Life in Fellowship",
      //     description: "A monthly event started in 2005 to celebrate membersâ€™ birthdays, fostering community and fellowship.",
      //     cordinator: "Rev. Chris Okotie",
      //     cordinatorTitle: "Pastor",
      //     cordinatorImage: "images/events/pastor.jpg",
      //     eventCategory: "Fellowship",
      //     date: "01,01",
      //     images: ["images/events/hog-logo.png"]
      //   }]
      // };
      // "use client";
      
      // import { useState, useEffect, useRef } from "react";
      // import Image from "next/image";
      // import Link from "next/link";
      // import { usePathname } from "next/navigation";
      // import "@/styles/Header.css";
      
      // // Define the full event structure based on the provided PHP HTML list
      // const eventStructure = [
      //   // Yearly/Direct Links
      //   { name: "Grace", type: "yearly", href: "/events/grace" },
      
      //   // Monthly Events with Sub-menus
      //   {
      //     name: "Queen Esther",
      //     type: "monthly",
      //     months: ["April", "March", "October"],
      //     baseHref: "/events/queen-esther",
      //   },
      
      //   // Yearly/Direct Links
      //   {
      //     name: "Hallelujah Party",
      //     type: "yearly",
      //     href: "/events/hallelujah-party",
      //   },
      
      //   // Monthly Events with Sub-menus
      //   {
      //     name: "Fellowship Sunday",
      //     type: "monthly",
      //     months: ["May", "November"],
      //     baseHref: "/events/fellowship-sunday",
      //   },
      //   {
      //     name: "Baby Dedication",
      //     type: "monthly",
      //     months: ["April", "August"],
      //     baseHref: "/events/baby-dedication",
      //   },
      //   {
      //     name: "Christmas Carol",
      //     type: "monthly",
      //     months: ["December"],
      //     baseHref: "/events/christmas-carol",
      //   },
      //   {
      //     name: "Youth Rally",
      //     type: "monthly",
      //     months: ["June"],
      //     baseHref: "/events/youth-rally",
      //   },
      
      //   // Yearly/Direct Links
      //   {
      //     name: "Annual Conference",
      //     type: "yearly",
      //     href: "/events/annual-conference",
      //   },
      //   { name: "Karis Award", type: "yearly", href: "/events/karis-award" },
      
      //   // Monthly Events with Sub-menus
      //   {
      //     name: "Prayer Meeting",
      //     type: "monthly",
      //     months: ["March"],
      //     baseHref: "/events/prayer-meeting",
      //   },
      
      //   // Simple/Other Direct Links
      //   { name: "Incandescence", type: "simple", href: "/events/incandescence" },
      //   { name: "Annual Revival", type: "simple", href: "/events/annual-revival" },
      //   {
      //     name: "Youth Conference",
      //     type: "simple",
      //     href: "/events/youth-conference",
      //   },
      //   { name: "Easter", type: "simple", href: "/events/easter" },
      //   { name: "Thanksgiving", type: "simple", href: "/events/thanksgiving" },
      // ];
      
      // export default function Header() {
      //   const [isNavOpen, setIsNavOpen] = useState(false);
      //   const [openDropdown, setOpenDropdown] = useState(null);
      //   const [openSubDropdown, setOpenSubDropdown] = useState(null);
      //   const navRef = useRef(null);
      //   const pathname = usePathname();
      
      //   const isActive = (path) => {
      //     // Check for exact match for root path or startsWith for others
      //     if (path === "/" && pathname === "/") return true;
      //     if (path !== "/" && pathname.startsWith(path)) return true;
      //     return false;
      //   };
      
      //   // Close dropdowns when clicking outside
      //   useEffect(() => {
      //     const handleClickOutside = (event) => {
      //       if (navRef.current && !navRef.current.contains(event.target)) {
      //         setOpenDropdown(null);
      //         setOpenSubDropdown(null);
      //       }
      //     };
      
      //     document.addEventListener("mousedown", handleClickOutside);
      //     return () => document.removeEventListener("mousedown", handleClickOutside);
      //   }, []);
      
      //   // Close mobile menu when pressing Escape key
      //   useEffect(() => {
      //     const handleEscKey = (event) => {
      //       if (event.key === "Escape") {
      //         setIsNavOpen(false);
      //         setOpenDropdown(null);
      //         setOpenSubDropdown(null);
      //       }
      //     };
      
      //     document.addEventListener("keydown", handleEscKey);
      //     return () => document.removeEventListener("keydown", handleEscKey);
      //   }, []);
      
      //   const toggleDropdown = (dropdownName) => {
      //     // If opening a new main dropdown, close any open sub-dropdown
      //     if (openDropdown !== dropdownName) {
      //       setOpenSubDropdown(null);
      //     }
      //     setOpenDropdown(openDropdown === dropdownName ? null : dropdownName);
      //   };
      
      //   const toggleSubDropdown = (subDropdownName) => {
      //     // Toggles the nested (monthly) event dropdown
      //     setOpenSubDropdown(
      //       openSubDropdown === subDropdownName ? null : subDropdownName
      //     );
      //   };
      
      //   const handleLinkClick = () => {
      //     // Resets ALL menu state on *any* internal Link click, preventing cascading renders
      //     setIsNavOpen(false);
      //     setOpenDropdown(null);
      //     setOpenSubDropdown(null);
      //   };
      
      //   const getEventLink = (baseHref, month = null) => {
      //     // Function to construct a URL that conceptually maps to the PHP's data payload
      //     if (month) {
      //       return `${baseHref}?month=${month.toLowerCase()}`;
      //     }
      //     return baseHref;
      //   };
      
      //   return (
      //     <nav className="navbar navbar-expand-lg navbar-dark fixed-top" ref={navRef}>
      //       <div className="container">
      //         <Link className="navbar-brand" href="/" onClick={handleLinkClick}>
      //           <Image
      //             src="/assets/images/hog-logo.png"
      //             alt="Household of God Church Logo"
      //             width={120}
      //             height={40}
      //             className="d-inline-block align-text-top"
      //           />
      //         </Link>
      
      //         <button
      //           className="navbar-toggler"
      //           type="button"
      //           onClick={() => setIsNavOpen(!isNavOpen)}
      //           aria-expanded={isNavOpen}
      //           aria-label="Toggle navigation"
      //         >
      //           <span className="navbar-toggler-icon"></span>
      //         </button>
      
      //         <div className={`navbar-collapse ${isNavOpen ? "show" : ""}`}>
      //           <ul className="navbar-nav ms-auto">
      //             {/* 1. Home */}
      //             <li className="nav-item">
      //               <Link
      //                 className={`nav-link ${isActive("/") ? "active" : ""}`}
      //                 href="/"
      //                 onClick={handleLinkClick}
      //               >
      //                 Home
      //               </Link>
      //             </li>
      
      //             {/* 2. About Dropdown */}
      //             <li
      //               className={`nav-item dropdown ${
      //                 openDropdown === "about" ? "show" : ""
      //               }`}
      //             >
      //               <button
      //                 className={`nav-link dropdown-toggle ${
      //                   isActive("/about") ? "active" : ""
      //                 }`}
      //                 onClick={() => toggleDropdown("about")}
      //                 aria-expanded={openDropdown === "about"}
      //               >
      //                 About
      //               </button>
      //               <ul
      //                 className={`dropdown-menu ${
      //                   openDropdown === "about" ? "show" : ""
      //                 }`}
      //               >
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/about/church"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Our Church
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/about/pastor"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Our Pastor
      //                   </Link>
      //                 </li>
      //               </ul>
      //             </li>
      
      //             {/* 3. Departments Dropdown */}
      //             <li
      //               className={`nav-item dropdown ${
      //                 openDropdown === "departments" ? "show" : ""
      //               }`}
      //             >
      //               <button
      //                 className={`nav-link dropdown-toggle ${
      //                   isActive("/departments") ? "active" : ""
      //                 }`}
      //                 onClick={() => toggleDropdown("departments")}
      //                 aria-expanded={openDropdown === "departments"}
      //               >
      //                 Departments
      //               </button>
      //               <ul
      //                 className={`dropdown-menu ${
      //                   openDropdown === "departments" ? "show" : ""
      //                 }`}
      //               >
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/children"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Children&#39;s Department
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/singles"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Singles Department
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/works"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Works Department
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/publication"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Publication Department
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/evangelism"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Evangelism Department
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/holy-police"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Holy Police
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/technical-crew"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Technical Crew
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/villa-sanitation"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Villa Sanitation
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/pastoral-care"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Pastoral Care
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/missions"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Missions Department
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/protocol"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Protocol Department
      //                   </Link>
      //                 </li>
      //                 <li>
      //                   <Link
      //                     className="dropdown-item"
      //                     href="/departments/benevolence"
      //                     onClick={handleLinkClick}
      //                   >
      //                     Benevolence Department
      //                   </Link>
      //                 </li>
      //               </ul>
      //             </li>
      
      //             {/* 4. Events Dropdown (With complete structure) */}
      //             <li
      //               className={`nav-item dropdown ${
      //                 openDropdown === "events" ? "show" : ""
      //               }`}
      //             >
      //               <button
      //                 className={`nav-link dropdown-toggle ${
      //                   isActive("/events") || pathname.startsWith("/events")
      //                     ? "active"
      //                     : ""
      //                 }`}
      //                 onClick={() => toggleDropdown("events")}
      //                 aria-expanded={openDropdown === "events"}
      //               >
      //                 Events
      //               </button>
      //               <ul
      //                 className={`dropdown-menu ${
      //                   openDropdown === "events" ? "show" : ""
      //                 }`}
      //               >
      //                 {eventStructure.map((event) => {
      //                   if (event.type === "monthly") {
      //                     // Monthly Event: Renders as a nested submenu (dropdown-submenu)
      //                     const eventSlug = event.name
      //                       .toLowerCase()
      //                       .replace(/\s/g, "-");
      //                     return (
      //                       <li
      //                         key={event.name}
      //                         className={`dropdown-submenu ${
      //                           openSubDropdown === eventSlug ? "show" : ""
      //                         }`}
      //                       >
      //                         <button
      //                           className="dropdown-item text-warning dropdown-toggle"
      //                           onClick={(e) => {
      //                             e.preventDefault();
      //                             e.stopPropagation();
      //                             toggleSubDropdown(eventSlug);
      //                           }}
      //                           aria-expanded={openSubDropdown === eventSlug}
      //                         >
      //                           {event.name}
      //                         </button>
      //                         <ul
      //                           className={`dropdown-menu ${
      //                             openSubDropdown === eventSlug ? "show" : ""
      //                           }`}
      //                         >
      //                           {event.months.map((month) => (
      //                             <li key={month}>
      //                               <Link
      //                                 className="dropdown-item"
      //                                 href={getEventLink(event.baseHref, month)}
      //                                 onClick={handleLinkClick}
      //                               >
      //                                 {month}
      //                               </Link>
      //                             </li>
      //                           ))}
      //                         </ul>
      //                       </li>
      //                     );
      //                   } else {
      //                     // Yearly or Simple Event: Renders as a direct link
      //                     return (
      //                       <li key={event.name}>
      //                         <Link
      //                           className="dropdown-item"
      //                           href={event.href}
      //                           onClick={handleLinkClick}
      //                         >
      //                           {event.name}
      //                         </Link>
      //                       </li>
      //                     );
      //                   }
      //                 })}
      //               </ul>
      //             </li>
      
      //             {/* 5. New Converts */}
      //             <li className="nav-item">
      //               <Link
      //                 className={`nav-link ${isActive("/converts") ? "active" : ""}`}
      //                 href="/converts"
      //                 onClick={handleLinkClick}
      //               >
      //                 New Converts
      //               </Link>
      //             </li>
      
      //             {/* 6. Media */}
      //             <li className="nav-item">
      //               <Link
      //                 className={`nav-link ${isActive("/media") ? "active" : ""}`}
      //                 href="/media"
      //                 onClick={handleLinkClick}
      //               >
      //                 Media
      //               </Link>
      //             </li>
      
      //             {/* 7. Contact Us */}
      //             <li className="nav-item">
      //               <Link
      //                 className="nav-link"
      //                 href="/#contact-section"
      //                 onClick={handleLinkClick}
      //               >
      //                 Contact Us
      //               </Link>
      //             </li>
      //           </ul>
      //         </div>
      //       </div>
      //       <style jsx global>{`
      //         /* Styles required for nested (dropdown-submenu) functionality */
      //         .dropdown-submenu {
      //           position: relative;
      //         }
      //         .dropdown-submenu .dropdown-menu {
      //           top: 0;
      //           left: 100%;
      //           margin-left: 0.1rem;
      //           display: none;
      //         }
      //         /* Show on hover for desktop */
      //         @media (min-width: 992px) {
      //           .dropdown-submenu:hover > .dropdown-menu {
      //             display: block;
      //           }
      //         }
      //         /* Show on click for all, controlled by state */
      //         .dropdown-submenu.show > .dropdown-menu {
      //           display: block;
      //         }
      //         /* Mobile adjustments */
      //         @media (max-width: 991.98px) {
      //           .dropdown-submenu .dropdown-menu {
      //             position: static;
      //             left: 0;
      //             margin-left: 1rem;
      //             border: none;
      //           }
      //         }
      
      //         /* ðŸŽ¨ FIX: Force text color in nested dropdowns to be visible ðŸŽ¨ */
      //         .dropdown-submenu .dropdown-menu .dropdown-item {
      //           color: #fff !important;
      //         }
      
      //         /* Ensure hover state still works for the nested items */
      //         .dropdown-submenu .dropdown-menu .dropdown-item:hover {
      //           background-color: #ffc107; /* Assuming yellow/secondary color from PHP snippet */
      //           color: #000 !important;
      //         }
      //       `}</style>
      //     </nav>
      //   );
      // }
      // C:\Users\user\Desktop\final versions\house-of-god-church\src\components\Navigation.js
      // folder pattern you can use and modify as you see fit for the events data structure and images
      // C:\Users\user\Desktop\final versions\house-of-god-church\src\app\events (parent)
      // C:\Users\user\Desktop\final versions\house-of-god-church\src\app\events\[event](1st level child)
// C:\Users\user\Desktop\final versions\house-of-god-church\src\app\events\components(1st level child)
// C:\Users\user\Desktop\final versions\house-of-god-church\src\app\events\layout.js(1st level child)
// C:\Users\user\Desktop\final versions\house-of-god-church\src\app\events\[event]\page.js (2nd level child)
// use this component below for the content of the event page
 
      // <div className="container church-section">
      //   <div className="row align-items-stretch church-row">
      //     <div className="col-md-5 d-flex">
      //       <div className="w-100 h-100">
      //         <Image
      //           src="/assets/images/ca1.png"
      //           alt="Church Building"
      //           width={500}
      //           height={400}
      //           className="church-image h-100 w-100 object-fit-cover rounded"
      //           style={{ objectFit: "cover" }}
      //         />
      //       </div>
      //     </div>
      //     <div className="col-md-6 d-flex">
      //       <div className="bg-white! border-l-4 border-[#ffd700] shadow-lg rounded-2xl p-8 md:p-10 d-flex flex-column justify-content-center w-100 leading-relaxed transition-all duration-300 hover:shadow-2xl hover:scale-[1.02] hover:-translate-y-1 text-justify">
      //         <h2 className="church-title">
      //           The Household Of God Church International Ministries
      //         </h2>
      //         <p className="church-text">
      //           The young ministry had its inaugural Sunday morning service on
      //           the 1st of February, 1987 in his living room, then in the Ikeja
      //           area of Lagos state. As membership of the young but peculiar
      //           church grew into the hundreds and thousands, the surrounding
      //           grounds of his house became sitting area for the overspill from
      //           the living room.
      //         </p>
      //         <p className="church-text">
      //           The ministry of the church and the person of Reverend Chris
      //           Okotie as a minister of the gospel became nationally recognized
      //           when the Lord Jesus Christ inspired the inauguration of the
      //           GRACE PROGRAMME and the television ministry, APOKALUPSIS.
      //         </p>
      //         <p className="church-text">
      //           The charity driven GRACE programme was instituted in 1990 and
      //           has become a major benevolence channel of the ministry on an
      //           annual basis.
      //         </p>
      //         <p className="church-text">
      //           The objective of the programme as directed by the Lord Jesus is
      //           to extend the arm of care and sharing to the less privileged in
      //           the society through recognized non governmental organizations
      //           who deal directly with such people.
      //         </p>
      //         <p className="church-text">
      //           In 1996 the KARIS AWARD, yet another inspiration by the Lord
      //           Jesus, which is aimed at appreciating Nigerians who have
      //           positively impacted the nation but have not been recognized by
      //           the government, was instituted and subsumed into the GRACE
      //           programme.
      //         </p>
      //       </div>
      //     </div>
      //   </div>
